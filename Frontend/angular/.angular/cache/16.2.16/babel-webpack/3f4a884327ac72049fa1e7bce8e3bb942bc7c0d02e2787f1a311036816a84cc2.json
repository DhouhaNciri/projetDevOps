{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport Swal from 'sweetalert2';\nclass User {}\nexport let ProfilComponent = class ProfilComponent {\n  constructor(adminService) {\n    this.adminService = adminService;\n    this.ownerConnect = localStorage.getItem('owner');\n    this.tenantConnect = localStorage.getItem('tenant');\n    this.user = new User();\n  }\n  ngOnInit() {\n    this.getProfil();\n  }\n  getProfil() {\n    if (this.ownerConnect) {\n      this.ownerConnect = this.ownerConnect.slice(1, this.ownerConnect.length - 1);\n      console.log(this.ownerConnect);\n      this.adminService.getUserByEmail(localStorage.getItem('email')).subscribe(res => {\n        console.log(res);\n        this.user = res;\n      });\n    } else if (this.tenantConnect) {\n      this.tenantConnect = this.tenantConnect.slice(1, this.tenantConnect.length - 1);\n      console.log(this.tenantConnect);\n      this.adminService.getUserByEmail(localStorage.getItem('email')).subscribe(res => {\n        console.log(res);\n        this.user = res;\n      });\n    }\n  }\n  save() {\n    if (this.ownerConnect) {\n      this.adminService.updateUser(this.user, this.user.id).subscribe(res => {\n        Swal.fire({\n          title: \"Update\",\n          text: \"Profil updated successfuly\",\n          icon: \"success\"\n        }).then(() => {\n          window.location.reload();\n        });\n      });\n    } else if (this.tenantConnect) {\n      delete this.user.firstName;\n      delete this.user.lastName;\n      this.adminService.updateUser(this.user, this.user.id).subscribe(res => {\n        Swal.fire({\n          title: \"Update\",\n          text: \"Profil updated successfuly\",\n          icon: \"success\"\n        }).then(() => {\n          window.location.reload();\n        });\n      });\n    }\n  }\n};\nProfilComponent = __decorate([Component({\n  selector: 'app-profil',\n  templateUrl: './profil.component.html',\n  styleUrls: ['./profil.component.scss']\n})], ProfilComponent);","map":{"version":3,"names":["Component","Swal","User","ProfilComponent","constructor","adminService","ownerConnect","localStorage","getItem","tenantConnect","user","ngOnInit","getProfil","slice","length","console","log","getUserByEmail","subscribe","res","save","updateUser","id","fire","title","text","icon","then","window","location","reload","firstName","lastName","__decorate","selector","templateUrl","styleUrls"],"sources":["G:\\Bureau\\Bureau\\Projet Web\\Frontend\\angular\\src\\app\\profil\\profil.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AdminService } from '../ervices/admin.service';\nimport Swal from 'sweetalert2';\n\nclass User {\n   email:any\n   firstName:any\n   lastName:any\n   phoneNumber:any\n}\n\n@Component({\n  selector: 'app-profil',\n  templateUrl: './profil.component.html',\n  styleUrls: ['./profil.component.scss']\n})\nexport class ProfilComponent implements OnInit {\n  ownerConnect = localStorage.getItem('owner')\n  tenantConnect = localStorage.getItem('tenant')\n  user:any = new User()\n  constructor(protected adminService : AdminService){\n\n  }\n  ngOnInit(): void {\n    this.getProfil()\n  }\n\n  getProfil(){\n    if(this.ownerConnect){\n      \n      this.ownerConnect = this.ownerConnect.slice(1 , this.ownerConnect.length-1)\n      console.log(this.ownerConnect)\n      this.adminService.getUserByEmail(localStorage.getItem('email')).subscribe(res=>{\n        console.log(res);\n        this.user = res\n        \n      })\n    }else if (this.tenantConnect){\n      this.tenantConnect = this.tenantConnect.slice(1 , this.tenantConnect.length-1)\n      console.log(this.tenantConnect)\n      this.adminService.getUserByEmail(localStorage.getItem('email')).subscribe(res=>{\n        console.log(res);\n        this.user = res\n        \n      })\n    }\n  }\n\n  save(){\n    if(this.ownerConnect){\n      \n     \n      this.adminService.updateUser(this.user , this.user.id).subscribe(res=>{\n        Swal.fire({\n          title: \"Update\",\n          text: \"Profil updated successfuly\",\n          icon: \"success\"\n        }).then(()=>{\n          window.location.reload()\n\n        })\n        \n      })\n    }else if (this.tenantConnect){\n      delete this.user.firstName\n      delete this.user.lastName\n      this.adminService.updateUser(this.user , this.user.id).subscribe(res=>{\n        Swal.fire({\n          title: \"Update\",\n          text: \"Profil updated successfuly\",\n          icon: \"success\"\n        }).then(()=>{\n          window.location.reload()\n\n        })\n        \n      })\n    }\n  }\n\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}